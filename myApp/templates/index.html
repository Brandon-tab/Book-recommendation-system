<!doctype html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <title>豆瓣图书数据分析</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="Premium Multipurpose Admin & Dashboard Template" name="description">
    <meta content="Themesbrand" name="author">
     <link href="/static/static/css/rwd-table.min.css" rel="stylesheet" type="text/css"> <!-- Bootstrap Css -->
    <!-- Bootstrap Css -->
    <link href="/static/static/css/bootstrap.min.css" id="bootstrap-style" rel="stylesheet" type="text/css">
    <!-- Icons Css -->
    <link href="/static/static/css/icons.min.css" rel="stylesheet" type="text/css">
    <!-- App Css-->
    <link href="/static/static/css/app.min.css" id="app-style" rel="stylesheet" type="text/css">

</head>


<body data-sidebar="dark">

<!-- <body data-layout="horizontal" data-topbar="colored"> -->

<!-- Begin page -->
<div id="layout-wrapper">


    <header id="page-topbar">
        <div class="navbar-header">
            <div class="d-flex">
                <!-- LOGO -->
                <div class="navbar-brand-box">
                    <a href="" class="logo logo-dark">
                                <span class="logo-sm">
                                    <img src="/static/static/picture/logo-sm.png" alt="" height="22">
                                </span>
                        <span class="logo-lg">
                                    <img src="/static/static/picture/logo-dark.png" alt="" height="17">
                                </span>
                    </a>

                    <a href="#" class="logo logo-light">
                        {#                                <span class="logo-sm">#}
                        {#                                    <img src="/static/static/picture/logo-sm.png" alt="" height="22">#}
                        {#                                </span>#}
                        <span class="logo-lg">
                                    <img src="/static/static/picture/logo-sm.png" alt="" height="18">
                                    <span style="font-size: 19px">豆瓣图书数据分析</span>
                                </span>

                    </a>
                </div>

                <button type="button" class="btn btn-sm px-3 font-size-24 header-item waves-effect vertical-menu-btn">
                    <i class="mdi mdi-menu"></i>
                </button>

                <div class="d-none d-sm-block">
                    {#                            <div class="dropdown dropdown-topbar pt-3 mt-1 d-inline-block">#}
                    {#                                <a class="btn btn-light dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">#}
                    {#                                        Create <i class="mdi mdi-chevron-down"></i>#}
                    {#                                    </a>#}
                    {##}
                    {#                                <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">#}
                    {#                                    <a class="dropdown-item" href="#">Action</a>#}
                    {#                                    <a class="dropdown-item" href="#">Another action</a>#}
                    {#                                    <a class="dropdown-item" href="#">Something else here</a>#}
                    {#                                    <div class="dropdown-divider"></div>#}
                    {#                                    <a class="dropdown-item" href="#">Separated link</a>#}
                    {#                                </div>#}
                    {#                            </div>#}
                </div>
            </div>

            <div class="d-flex">

                <!-- App Search-->
                {#                        <form class="app-search d-none d-lg-block">#}
                {#                            <div class="position-relative">#}
                {#                                <input type="text" class="form-control" placeholder="Search...">#}
                {#                                <span class="fa fa-search"></span>#}
                {#                            </div>#}
                {#                        </form>#}

                <div class="dropdown d-inline-block d-lg-none ml-2">
                    <button type="button" class="btn header-item noti-icon waves-effect"
                            id="page-header-search-dropdown" data-toggle="dropdown" aria-haspopup="true"
                            aria-expanded="false">
                        <i class="mdi mdi-magnify"></i>
                    </button>
                    <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right p-0"
                         aria-labelledby="page-header-search-dropdown">

                        <form class="p-3">
                            <div class="form-group m-0">
                                <div class="input-group">
                                    <input type="text" class="form-control" placeholder="Search ..."
                                           aria-label="Recipient's username">
                                    <div class="input-group-append">
                                        <button class="btn btn-primary" type="submit"><i class="mdi mdi-magnify"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>


                <div class="dropdown d-none d-md-block ms-2">
                    {#                            <button type="button" class="btn header-item waves-effect" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">#}
                    {#                                <img class="me-2" src="/static/static/picture/us_flag.jpg" alt="Header Language" height="16"> English <span class="mdi mdi-chevron-down"></span>#}
                    {#                            </button>#}
                    <div class="dropdown-menu dropdown-menu-end">

                        <!-- item-->
                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                            <img src="/static/static/picture/germany_flag.jpg" alt="user-image" class="me-1"
                                 height="12"> <span class="align-middle"> German </span>
                        </a>

                        <!-- item-->
                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                            <img src="/static/static/picture/italy_flag.jpg" alt="user-image" class="me-1" height="12">
                            <span class="align-middle"> Italian </span>
                        </a>

                        <!-- item-->
                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                            <img src="/static/static/picture/french_flag.jpg" alt="user-image" class="me-1" height="12">
                            <span class="align-middle"> French </span>
                        </a>

                        <!-- item-->
                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                            <img src="/static/static/picture/spain_flag.jpg" alt="user-image" class="me-1" height="12">
                            <span class="align-middle"> Spanish </span>
                        </a>

                        <!-- item-->
                        <a href="javascript:void(0);" class="dropdown-item notify-item">
                            <img src="/static/static/picture/russia_flag.jpg" alt="user-image" class="me-1" height="12">
                            <span class="align-middle"> Russian </span>
                        </a>
                    </div>
                </div>

                <div class="dropdown d-none d-lg-inline-block">
                    {#                            <button type="button" class="btn header-item noti-icon waves-effect" data-toggle="fullscreen">#}
                    {#                                <i class="mdi mdi-fullscreen font-size-24"></i>#}
                    {#                            </button>#}
                </div>

                <div class="dropdown d-inline-block ms-1">
                    {#                            <button type="button" class="btn header-item noti-icon waves-effect" id="page-header-notifications-dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">#}
                    {#                                <i class="ti-bell"></i>#}
                    {#                                <span class="badge bg-danger rounded-pill">3</span>#}
                    {#                            </button>#}
                    <div class="dropdown-menu dropdown-menu-lg dropdown-menu-end p-0"
                         aria-labelledby="page-header-notifications-dropdown">
                        <div class="p-3">
                            <div class="row align-items-center">
                                <div class="col">
                                    <h5 class="m-0"> Notifications (258) </h5>
                                </div>
                            </div>
                        </div>
                        <div data-simplebar="" style="max-height: 230px;">
                            <a href="" class="text-reset notification-item">
                                <div class="media">
                                    <div class="avatar-xs me-3">
                                                <span class="avatar-title border-success rounded-circle ">
                                                    <i class="mdi mdi-cart-outline"></i>
                                                </span>
                                    </div>
                                    <div class="media-body">
                                        <h6 class="mt-0 mb-1">Your order is placed</h6>
                                        <div class="text-muted">
                                            <p class="mb-1">If several languages coalesce the grammar</p>
                                        </div>
                                    </div>
                                </div>
                            </a>

                            <a href="" class="text-reset notification-item">
                                <div class="media">
                                    <div class="avatar-xs me-3">
                                                <span class="avatar-title border-warning rounded-circle ">
                                                    <i class="mdi mdi-message"></i>
                                                </span>
                                    </div>
                                    <div class="media-body">
                                        <h6 class="mt-0 mb-1">New Message received</h6>
                                        <div class="text-muted">
                                            <p class="mb-1">You have 87 unread messages</p>
                                        </div>
                                    </div>
                                </div>
                            </a>

                            <a href="" class="text-reset notification-item">
                                <div class="media">
                                    <div class="avatar-xs me-3">
                                                <span class="avatar-title border-info rounded-circle ">
                                                    <i class="mdi mdi-glass-cocktail"></i>
                                                </span>
                                    </div>
                                    <div class="media-body">
                                        <h6 class="mt-0 mb-1">Your item is shipped</h6>
                                        <div class="text-muted">
                                            <p class="mb-1">It is a long established fact that a reader will</p>
                                        </div>
                                    </div>
                                </div>
                            </a>

                            <a href="" class="text-reset notification-item">
                                <div class="media">
                                    <div class="avatar-xs me-3">
                                                <span class="avatar-title border-primary rounded-circle ">
                                                    <i class="mdi mdi-cart-outline"></i>
                                                </span>
                                    </div>
                                    <div class="media-body">
                                        <h6 class="mt-0 mb-1">Your order is placed</h6>
                                        <div class="text-muted">
                                            <p class="mb-1">Dummy text of the printing and typesetting industry.</p>
                                        </div>
                                    </div>
                                </div>
                            </a>

                            <a href="" class="text-reset notification-item">
                                <div class="media">
                                    <div class="avatar-xs me-3">
                                                <span class="avatar-title border-warning rounded-circle ">
                                                    <i class="mdi mdi-message"></i>
                                                </span>
                                    </div>
                                    <div class="media-body">
                                        <h6 class="mt-0 mb-1">New Message received</h6>
                                        <div class="text-muted">
                                            <p class="mb-1">You have 87 unread messages</p>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <div class="p-2 border-top">
                            <a class="btn btn-sm btn-link font-size-14 w-100 text-center" href="javascript:void(0)">
                                View all
                            </a>
                        </div>
                    </div>
                </div>


                <div class="dropdown d-inline-block">
                    <button type="button" class="btn header-item waves-effect" id="page-header-user-dropdown"
                            data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                       <img class="rounded-circle header-profile-user" src="/static/static/picture/user-4.jpg"
                             alt="Header Avatar">
                        {{ userInfo.username }}
                    </button>
                    <div class="dropdown-menu dropdown-menu-end">
                        <!-- item-->
                        {#                        <a class="dropdown-item" href="pages-lock-screen.html"><i#}
                        {#                                class="mdi mdi-lock-open-outline font-size-17 text-muted align-middle me-1"></i> Lock#}
                        {#                            screen</a>#}
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item text-danger" href="/myApp/logOut/"><i
                                class="mdi mdi-power font-size-17 text-muted align-middle me-1 text-danger"></i> 退出登录</a>
                    </div>
                </div>


                <div class="dropdown d-inline-block">
                    {#                    <button type="button" class="btn header-item noti-icon right-bar-toggle waves-effect">#}
                    {#                                <i class="mdi mdi-spin mdi-cog"></i>#}
                    {#                    </button>#}
                </div>


            </div>
        </div>
    </header>
    <!-- ========== Left Sidebar Start ========== -->
    <div class="vertical-menu">

        <div data-simplebar="" class="h-100">

            <!--- Sidemenu -->
            <div id="sidebar-menu">
                <!-- Left Menu Start -->
                <ul class="metismenu list-unstyled" id="side-menu">
                    <li class="menu-title" style="font-size: 17px">导航栏</li>

                    <li>
                        <a href="/myApp/home/" class="waves-effect">
                            <i class="mdi mdi-view-dashboard"></i>
                            {#                            <span class="badge rounded-pill bg-primary float-end">2</span>#}
                            <span>首页</span>
                        </a>
                    </li>

                    <li>
                        <a href="/myApp/selfInfo/" class="waves-effect">
                            <i class="mdi mdi-human-male-boy"></i>
                            {#                            <span class="badge rounded-pill bg-primary float-end">2</span>#}
                            <span>个人信息</span>
                        </a>
                    </li>

                    <li>
                        <a href="/myApp/tableData/" class="waves-effect">
                            <i class="mdi mdi-calendar-check"></i>
                            {#                            <span class="badge rounded-pill bg-primary float-end">2</span>#}
                            <span>书籍统计页</span>
                        </a>
                    </li>
                    <li>
                        <a href="/myApp/typeChar/" class="waves-effect">
                            <i class="mdi mdi-typewriter"></i>
                            {#                            <span class="badge rounded-pill bg-primary float-end">2</span>#}
                            <span>种类分析</span>
                        </a>
                    </li>
                    <li>
                        <a href="/myApp/bookInfoChar/" class="waves-effect">
                            <i class="mdi mdi-book"></i>
                            {#                            <span class="badge rounded-pill bg-primary float-end">2</span>#}
                            <span>书本信息分析</span>
                        </a>
                    </li>
                    <li>
                        <a href="/myApp/commentChar/" class="waves-effect">
                            <i class="mdi mdi-comment"></i>
                            {#                            <span class="badge rounded-pill bg-primary float-end">2</span>#}
                            <span>评论分析</span>
                        </a>
                    </li>
                    <li>
                        <a href="/myApp/yearChar/" class="waves-effect">
                            <i class="mdi mdi-timeline-clock"></i>
                            {#                            <span class="badge rounded-pill bg-primary float-end">2</span>#}
                            <span>年份分析</span>
                        </a>
                    </li>
                    <li>
                        <a href="/myApp/titleCloud/" class="waves-effect">
                            <i class="mdi mdi-cloud"></i>
                            {#                            <span class="badge rounded-pill bg-primary float-end">2</span>#}
                            <span>书本词云图</span>
                        </a>
                    </li>
                    <li>
                        <a href="/myApp/summaryCloud/" class="waves-effect">
                            <i class="mdi mdi-cloud-braces"></i>
                            {#                            <span class="badge rounded-pill bg-primary float-end">2</span>#}
                            <span>书本简介词云图</span>
                        </a>
                    </li>
                    </li>
                    <li>
                        <a href="/myApp/recomBook/" class="waves-effect">
                            <i class="mdi mdi-star-box"></i>
                            {#                            <span class="badge rounded-pill bg-primary float-end">2</span>#}
                            <span>图书推荐</span>
                        </a>
                    </li>


                </ul>
            </div>
            <!-- Sidebar -->
        </div>
    </div>
    <!-- Left Sidebar End -->


    <!-- ============================================================== -->
    <!-- Start right Content here -->
    <!-- ============================================================== -->
    <div class="main-content">
        <div class="page-content">

        </div>
        <!-- End Page-content -->


    </div>
    <!-- end main content-->

</div>
<!-- END layout-wrapper -->

<!-- JAVASCRIPT -->
<script src="/static/static/js/jquery.min.js"></script>
<script src="/static/static/js/bootstrap.bundle.min.js"></script>
<script src="/static/static/js/metisMenu.min.js"></script>
<script src="/static/static/js/simplebar.min.js"></script>
<script src="/static/static/js/waves.min.js"></script>
<script src="/static/static/js/jquery.sparkline.min.js"></script>

<!--Morris Chart-->
<script src="/static/static/js/morris.min.js"></script>
<script src="/static/static/js/raphael.min.js"></script>

<script src="/static/static/js/dashboard.init.js"></script>
        <!-- Responsive Table js -->
        <script src="/static/static/js/rwd-table.min.js"></script>

        <!-- Init js -->
        <script src="/static/static/js/table-responsive.init.js"></script>
<script src="/static/static/js/app.js"></script>
<script src="/static/js/echarts.js"></script>

<script>
    var chartDom = document.getElementById('mainTwo');


    var myChart = echarts.init(chartDom);
    var option;

    option = {
        title: {
            subtext: '用户注册时间'
        },
        tooltip: {
            trigger: 'item'
        },
        legend: {
            top: '5%',
            left: 'center'
        },
        series: [
            {
                name: '用户创建时间',
                type: 'pie',
                radius: ['40%', '70%'],
                avoidLabelOverlap: false,
                itemStyle: {
                    borderRadius: 10,
                    borderColor: '#fff',
                    borderWidth: 2
                },
                label: {
                    show: false,
                    position: 'center'
                },
                emphasis: {
                    label: {
                        show: true,
                        fontSize: 40,
                        fontWeight: 'bold'
                    }
                },
                labelLine: {
                    show: false
                },
                data: {{ createUserList | safe }}
            }
        ]
    };

    option && myChart.setOption(option);
</script>
<script>
    var chartDom = document.getElementById('main');
     let xData = {{ rateList }}
        let
    yData = {{ rateListNum }}
        let
    xRes = []
    for (var i = 0; i < 9; i++) {
        xRes.push(xData[i])
    }
    let
        yRes = []
    for (var i = 0; i < 9; i++) {
        yRes.push(yData[i])
    }
    var myChart = echarts.init(chartDom);
    var option;

    option = {
        title: {

            subtext: '评分统计柱状图'
        },
        tooltip: {
            trigger: 'axis'
        },
        legend: {
            data: ['评分',]
        },
        toolbox: {
            show: true,
            feature: {
                dataView: {show: true, readOnly: false},
                magicType: {show: true, type: ['line', 'bar']},
                restore: {show: true},
                saveAsImage: {show: true}
            }
        },
        calculable: true,
        xAxis: [
            {
                type: 'category',
                // prettier-ignore
                data:xRes
            }
        ],
        yAxis: [
            {
                type: 'value'
            }
        ],
        series: [
            {
                name: '评分',
                type: 'bar',
                data: yRes,
                markPoint: {
                    data: [
                        {type: 'max', name: 'Max'},
                        {type: 'min', name: 'Min'}
                    ]
                },
                markLine: {
                    data: [{type: 'average', name: 'Avg'}]
                },
                itemStyle: {
                    color: '#e66'
                }
            }
        ]
    };
    let count = 9;
    setInterval(function (){
        if (count >= xData.length){
            count = 0
        }
        xRes.shift()
        xRes.push(xData[count])

        yRes.shift()
        yRes.push(yData[count])

        count ++

        myChart.setOption({
            xAxis: [
                {
                    data:xRes
                }
            ],
            series:[
                {
                    data:yRes
                }
            ]
        })

    },2000)
    option && myChart.setOption(option);
</script>
</body>

</html>